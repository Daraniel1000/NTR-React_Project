(this["webpackJsonpntr-react"]=this["webpackJsonpntr-react"]||[]).push([[0],{10:function(t,e,a){},11:function(t,e,a){},12:function(t,e,a){"use strict";a.r(e);var c=a(0),n=a(1),r=a.n(n),o=a(3),i=a.n(o),s=(a(10),a(4));a(11);function u(t,e){switch(t.view){default:return Object(c.jsx)("div",{children:h(t,e)});case"2":return Object(c.jsx)("div",{children:d(t,e)});case"3":return Object(c.jsx)("div",{children:l(t,e)});case"4":return Object(c.jsx)("h2",{children:"\u0141adowanie danych..."})}}function l(t,e){var a=null;t.data.activities.forEach((function(e){e.slot==t.slot&&e.group===t.group&&(a=e)})),null===a&&(a={class:t.data.classes[0],group:t.group,room:t.data.rooms[0],slot:Number(t.slot),teacher:t.data.teachers[0]});var n=[],r=[],o=[];return t.data.groups.forEach((function(e){(e===a.group||function(t,e,a){var c=!0;return a.forEach((function(a){a.slot===e&&a.group===t&&(c=!1)})),c}(e,a.slot,t.data.activities))&&n.push(e)})),t.data.teachers.forEach((function(e){(e===a.teacher||function(t,e,a){var c=!0;return a.forEach((function(a){a.slot===e&&a.teacher===t&&(c=!1)})),c}(e,a.slot,t.data.activities))&&o.push(e)})),t.data.rooms.forEach((function(e){(e===a.room||function(t,e,a){var c=!0;return a.forEach((function(a){a.slot===e&&a.room===t&&(c=!1)})),c}(e,a.slot,t.data.activities))&&r.push(e)})),Object(c.jsxs)("div",{children:[Object(c.jsx)("select",{defaultValue:a.class,id:"class",className:"form-control w-100",children:t.data.classes.map((function(t){return Object(c.jsx)("option",{children:t})}))}),Object(c.jsx)("select",{id:"group",className:"form-control w-100",defaultValue:a.group,children:n.map((function(t){return Object(c.jsx)("option",{children:t})}))}),Object(c.jsx)("select",{id:"room",className:"form-control w-100",defaultValue:a.room,children:r.map((function(t){return Object(c.jsx)("option",{children:t})}))}),Object(c.jsx)("select",{id:"teacher",className:"form-control w-100",defaultValue:a.teacher,children:o.map((function(t){return Object(c.jsx)("option",{children:t})}))}),Object(c.jsx)("button",{className:"btn btn-primary",onClick:function(a){var c=document.getElementById("class").value,n=document.getElementById("group").value,r=document.getElementById("room").value,o=document.getElementById("teacher").value,i={room:r,group:n,class:c,slot:t.slot,teacher:o},s=t.data;s.activities.push(i),e((function(e){return{view:"1",group:t.group,teacher:t.teacher,data:s}}))},children:"Zapisz"})]})}function d(t,e){return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("select",{id:"chooseTeacher",className:"form-control w-100",onChange:function(t){e((function(e){return{view:e.view,teacher:t.target.selectedIndex,group:e.group,data:e.data}}))},value:t.data.teachers[t.teacher],children:t.data.teachers.map((function(t){return Object(c.jsx)("option",{children:t})}))}),Object(c.jsx)("input",{type:"text",value:t.data.teachers[t.teacher],onChange:function(a){t.data.activities.forEach((function(e){e.teacher===t.data.teachers[t.teacher]&&(e.teacher=a.target.value)})),t.data.teachers[t.teacher]=a.target.value,e((function(e){return{view:t.view,teacher:t.teacher,group:t.group,refresh:!0,data:t.data}}))}}),Object(c.jsx)("button",{onClick:function(a){var c=t.data.teachers[t.teacher];t.data.teachers.splice(t.teacher,1);var n=t.data;n.activities.forEach((function(t,e){t.teacher===c&&n.activities.splice(e,1)})),t.teacher>=n.teachers.length?e((function(e){return{view:t.view,teacher:0,group:t.group,refresh:!0,data:n}})):e((function(e){return{view:t.view,teacher:t.teacher,group:t.group,refresh:!0,data:n}}))},className:"btn btn-danger",children:"usu\u0144"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{type:"text",id:"addName"}),Object(c.jsx)("button",{onClick:function(a){var c=document.getElementById("addName"),n=t.data;n.teachers.push(c.value),c.value="",e((function(e){return{view:t.view,teacher:t.teacher,group:t.group,refresh:!0,data:n}}))},className:"btn btn-primary",children:"dodaj"})]})]})}function h(t,e){var a={};return t.data.groups.forEach((function(t){a[t]=[]})),t.data.activities.forEach((function(t){a[t.group][t.slot]=t.room+" "+t.class})),Object(c.jsxs)("div",{children:[Object(c.jsx)("select",{id:"chooseClass",className:"form-control w-25",onChange:function(a){e((function(e){return{view:t.view,teacher:t.teacher,group:a.target.value,data:t.data}}))},value:t.group,children:t.data.groups.map((function(t){return Object(c.jsx)("option",{children:t})}))}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"btn-row",children:["Godzina","Pon","Wt","\u015ar","Czw","Pt"].map((function(t){return Object(c.jsx)("button",{className:"text",itemType:"button",children:t})}))}),Object(c.jsx)("div",{id:"items",children:f(a,t.group,(function(a){e((function(e){return{view:"3",teacher:t.teacher,group:t.group,slot:a.target.id,data:t.data}}))}))})]})]})}function f(t,e,a){var n=[1,2,3,4,5],r=[],o=-5;return r="string"!=typeof e?t["1a"]:t[e],Object(c.jsx)("div",{children:["8:00-8:45","8:55-9:40","9:50-11:35","11:55:12:40","12:50:13:35","13:45:14:30","14:40-15:25","15:35-16:20","16:30-17:15"].map((function(t){return o+=5,Object(c.jsxs)("div",{className:"btn-row",children:[Object(c.jsx)("button",{className:"text",itemType:"button",children:t}),n.map((function(t){return function(t,e,a,n){return void 0==e[t+a]?Object(c.jsx)("button",{itemType:"button",className:"slot",id:t+a,onClick:n,children:"."}):Object(c.jsx)("button",{itemType:"button",className:"slot",id:t+a,onClick:n,children:e[t+a]})}(t,r,o,a)}))]})}))})}var j=function(){var t=Object(n.useState)({view:"4",group:"1a",teacher:0,data:void 0}),e=Object(s.a)(t,2),a=e[0],r=e[1];function o(t){r((function(e){return{view:t.target.id,group:a.group,teacher:a.teacher,data:a.data}}))}return Object(n.useEffect)((function(){if(console.log(a),void 0===a.data)fetch("http://localhost:3004/data").then((function(t){return t.json()})).then((function(t){r({view:"1",group:"1a",teacher:0,data:t})})).catch(console.log);else{var t={method:"PUT",headers:{"Content-Type":"application/JSON"},body:JSON.stringify(a.data)};fetch("http://localhost:3004/data",t).then((function(t){return t.json()})).then((function(t){return console.log(t)}))}})),Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)("header",{className:"App-header",children:[Object(c.jsxs)("div",{className:"btn-row",children:[Object(c.jsx)("button",{className:"btn btn-white",id:"1",onClick:o,children:"Plan lekcji"}),Object(c.jsx)("button",{className:"btn btn-white",id:"2",onClick:o,children:"Nauczyciele"})]}),u(a,r)]})})},p=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,13)).then((function(e){var a=e.getCLS,c=e.getFID,n=e.getFCP,r=e.getLCP,o=e.getTTFB;a(t),c(t),n(t),r(t),o(t)}))};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(j,{})}),document.getElementById("root")),p()}},[[12,1,2]]]);
//# sourceMappingURL=main.bd6322c9.chunk.js.map